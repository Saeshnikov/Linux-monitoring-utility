| № | Пункт мониторинга | Утилита | Акутальность | Проблемы |
| ----------- | ----------- | ----------- | ----------- | ----------- |
| 1.1 | Тип подключения | ss (txt) / ss > file (file)</br>Вывод: полный список активных соединений (TCP и сокеты).</br>Поле Netid — тип подключения: </br>- u_dgr — тип сокета, который работает без установки соединения; </br>- u_str — тип сокета, который работает с предварительной установкой соединения; </br>- tcp — tcp соединение; </br>- udp — udp соединение.</br>ss -t, --tcp: отображать TCP-сокеты.</br>ss -u, --udp: UDP-сокеты.</br>ss -d, --dccp: DCCP сокеты.</br>ss -w, --raw: RAW сокеты.</br>ss -x, --unix: доменные сокеты Unix (псевдоним для -f unix).</br>ss -S, --sctp: SCTP-сокеты. | Получение открытых сокетов позволяет контролировать работу необходимых служб |  |
| 1.2 | Состояние соединения | ss (txt) / ss > file (file)</br>Вывод:</br>Поле State — состояние соединения (сеанса TCP):</br>CLOSED — начальное состояние; </br>LISTEN — сервер ожидает запросы от клиента; </br>SYN-SENT — клиент хочет установить соединение с сервером и ожидает подтверждение; </br>SYN-RECEIVED — сервер получил запрос на создание сеанса, отправил ответный запрос и ожидает подтверждение; </br>ESTABLISHED — соединение установлено, идет передача данных; </br>FIN-WAIT-1 — одна из сторон завершает соединение, отправив флаг FIN; </br>CLOSE-WAIT — другая сторона переходит в это состояние, отправив подтверждение на FIN, но продолжает передачу; </br>FIN-WAIT-2 — первый узел получил ACK, разорвал свое соединение, но еще читает данные; </br>LAST-ACK — второй узел заканчивает передачу и отправляет флаг FIN; </br>TIME-WAIT — сервер получил пакет с флагом FIN, отправил флаг ACK и ждёт некоторое время, перед окончательным закрытием соединения; </br>CLOSING — обе стороны инициировали закрытие соединения одновременно.| Понимание состояния соединения позволит дать более полное понимание о возникающих ошибках подключения и потери пакетов | |
| 1.3 | Количество байтов, помещенных в буфер приема TCP/IP, но не переданных приложению | ss (txt) / ss > file (file)</br>Вывод:</br>Поле Recv-Q  | Информирование о перегрузке сети и других ошибках, связанных с деятельностью сетевых устройств. | |
| 1.4 | Количество байтов, помещенных в буфер отправки TCP/IP, но не отправленных, или отправленных, но не подтвержденных | ss (txt) / ss > file (file)</br>Вывод:</br>Поле Send-Q | Информирование о перегрузке сети и других ошибках, связанных с деятельностью сетевых устройств. | |
| 1.5 | Локальный диапазон адресов и портов | ss (txt) / ss > file (file)</br>Вывод:</be>Поле Local Address:Port | Эта информация полезна, когда в функции соединения исчерпан диапазон, выделенный для временных портов TCP/UDP | |
| 1.6 | Сетевой диапазон адресов и портов | ss (txt) / ss > file (file)</br>Вывод:</br>Поле Peer Address:Port | Эта информация полезна, когда в функции соединения исчерпан диапазон, выделенный для временных портов TCP/UDP | |
| 1.7 | Процессы, использующие сокеты | ss -p (txt) / ss -p > file (file) | Зная, какому процессу принадлежит сокет, можно обратиться к трассировке системных вызовов и посмотреть в чем проблема, если такова возникает | |

#### Межсетевое взаимодействие

| № | Пункт мониторинга | Утилита | Акутальность | Проблемы |
| ----------- | ----------- | ----------- | ----------- | ----------- |
| 1.8 | Домен соединения;</br>Семантика коммуникации,</br>Путь по которому сокет связан с дескриптором;</br>Связь между двумя процессами по сети | strace -e</br>trace=socket,connect,send,recv -o {file} {process}</br>- socket(AF_UNIX, SOCK_STREAM, 0) =sockfd ; </br>параметры: Домен соединения (локальное соединение</br>IPv4 протоколы Интернет, IPv6 протоколы Интернет, IPX, устройство для взаимодействия с ядром и тд)</br>Семантика коммуникации</br>(SOCK_STREAM двусторонний надежный и последовательный поток байтов, SOCK_DGRAM поддерживает датаграммы, и тд)</br>-connect() - устанавливает соединение с конечной точкой внешней сети | Понимание того, что процесс работает с чем-то через сокет по определенному пути. Таким образом через, например, утилиту ss, можно найти процесс, привязанный к этому сокету с другой стороны.</br>Утилита позволяет установить использует ли процесс данное компьютерное соединение для передачи данных и/или получения и что передается | |
| 1.9 | Все порты, созданные сервером и ожидающие подключения клиента | glances (json): glances -w --disable-webui</br>curl http://localhost:61208/api/3/connections</br>{"net_connections_enabled": True, "nf_conntrack_enabled": True} | Для более комплексного понимания взаимодействия между приложениями | |



