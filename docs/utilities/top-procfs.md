# Сравнительный анализ утилиты top и procfs
Для того, чтобы понять к каким файлам обращается утилита top, воcпользуемся strace:

    strace -ye trace=write,read top

![image](https://github.com/Saeshnikov/Linux-monitoring-utility/assets/121693400/bf3bbd5d-809f-483c-859a-3ab614a298fa)

### Файлы proc/, которые использует top ###

Для общей статистики
|Файл|Описание|
| :---: | --- |
|/proc /stat | (статистика ядра/системы)| 
|/proc/meminfo |(этот файл содержит статистические данные об использовании памяти в системе)|
|/proc/uptime |(тот файл содержит два числа: время безотказной работы системы (секунды) и количество времени, затраченного на простаивание процесса (секунды))|
|/proc/loadavg |(Первые три поля в этом файле представляют собой средние значения загрузки, дающие количество заданий в очереди выполнения (состояние R) или ожидающих дискового ввода-вывода (состояние D), усредненное за 1, 5 и 15 минут. Они совпадают со средними значениями загрузки, заданными uptime(1) и другими программами. <br>Четвертое поле состоит из двух чисел, разделенных косой чертой (/). Первое из них - это количество запущенных в данный момент объектов планирования ядра (процессы, потоки). Значение после косой черты - это количество объектов планирования ядра, которые в данный момент существуют в системе. <br>Пятое поле - это PID процесса, который был создан в системе последним.)|
|/proc/sys/kernel/osrelease|

Для статистики по процессам
|Файл|Описание|
| :---: | --- |
|/proc/PID/stat |(информация о состоянии процесса)|
|/proc/PID/statm|(предоставляет информацию об использовании памяти)|
|/proc/PID/status|(Предоставляет большую часть информации в /proc/[pid]/stat и /proc/[pid]/statm в формате, который людям проще разобрать.)|
|/proc/PID/numa_maps| (обзор неоднородной архитектуры памяти)|
|/proc/PID/autogroup| (обзор планирования работы процессора, Краткое описание API, Linux предоставляет следующие системные вызовы для управления поведением планирования ЦП, политикой и приоритетом процессов (или, точнее, потоков).)|
|/proc/PID/cmdline|

## Выводы ##
Были запущены все различные комбинации работы с утилитой `top` (которые рассмотрены и актуальны в рамках работы) и параллельно с ними была запущена утилита `strace`, 
настроенная на просмотр всех файлов, к которым обращалась top за период своей работы. Все файлы, к которым были обнаружены обращения находились в псевдофайловой системе `/proc/*`.

Однако если говорить о выявлении процесса/программы, который(-ая) оказывает наибольшую нагрузку на CPU или любая другая сортировка всех процессов, то быстрее и проще брать информацию из top, 
которая делает это все за нас, нежели писать самостоятельно.
